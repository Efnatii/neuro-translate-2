<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <title>Neuro Translate</title>
    <link rel="stylesheet" href="./popup.css">
  </head>
  <body>
    <main class="popup">
      <header class="popup__header">
        <div>
          <h1 class="popup__title">Neuro Translate</h1>
          <p class="popup__subtitle">by Efnatii</p>
        </div>
        <button class="popup__debug" type="button" data-action="open-debug">Отладка ↗</button>
      </header>

      <section class="popup__section">
        <details class="popup__details" data-section="api-key">
          <summary>OpenAI API Key</summary>
          <div class="popup__field">
            <input class="popup__input" type="password" placeholder="sk-..." autocomplete="off" data-field="api-key">
            <button class="popup__button" type="button" data-action="toggle-api">Показать</button>
          </div>
        </details>
      </section>

      <section class="popup__section">
        <details class="popup__details popup__details--models" data-section="models-details" open>
          <summary>Выбор моделей</summary>
          <div class="popup__models" data-section="models"></div>
        </details>
      </section>

      <section class="popup__section">
        <label class="popup__label popup__checkbox-row">
          <input type="checkbox" data-field="selection-speed">
          <span>Максимальная скорость</span>
        </label>
        <label class="popup__label" for="selection-preference">Приоритет</label>
        <select id="selection-preference" class="popup__select" data-field="selection-preference">
          <option value="none">Без приоритета</option>
          <option value="smartest">Самые умные</option>
          <option value="cheapest">Самые дешёвые</option>
        </select>
      </section>

      <section class="popup__section">
        <div class="popup__status">
          <div class="popup__status-header">
            <span class="popup__label">Статус</span>
            <span class="popup__status-text" data-field="status-text">—</span>
          </div>
          <progress class="popup__progress" value="0" max="100" data-field="status-progress"></progress>
        </div>
      </section>

      <footer class="popup__footer">
        <button class="popup__icon-button" type="button" data-action="start-translation" title="Перевести" aria-label="Перевести">
          <svg class="popup__icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M7 5L19 12L7 19Z"></path>
          </svg>
        </button>
        <button class="popup__icon-button" type="button" data-action="cancel-translation" title="Отменить" aria-label="Отменить">
          <svg class="popup__icon" viewBox="0 0 24 24" aria-hidden="true">
            <rect x="6" y="6" width="12" height="12"></rect>
          </svg>
        </button>
        <button class="popup__icon-button" type="button" data-action="toggle-visibility" aria-label="Показать перевод">
          <svg class="popup__icon popup__icon--visible" viewBox="0 0 24 24" aria-hidden="true" data-field="visibility-on">
            <path d="M2 12C4.8 7.2 8 5 12 5C16 5 19.2 7.2 22 12C19.2 16.8 16 19 12 19C8 19 4.8 16.8 2 12Z"></path>
            <circle cx="12" cy="12" r="3.2"></circle>
          </svg>
          <svg class="popup__icon popup__icon--hidden" viewBox="0 0 24 24" aria-hidden="true" data-field="visibility-off">
            <path d="M2 12C4.8 7.2 8 5 12 5C16 5 19.2 7.2 22 12C19.2 16.8 16 19 12 19C8 19 4.8 16.8 2 12Z"></path>
            <line x1="5" y1="19" x2="19" y2="5"></line>
          </svg>
        </button>
      </footer>
    </main>

    <script src="../core/nt-namespace.js"></script>
    <script src="../core/time.js"></script>
    <script src="../core/html.js"></script>
    <script src="../core/retry-loop.js"></script>
    <script src="../core/chrome-local-store-base.js"></script>
    <script src="../core/event-types.js"></script>
    <script src="../core/settings-store.js"></script>
    <script src="../core/message-envelope.js"></script>
    <script src="../core/ui-protocol.js"></script>
    <script src="../core/ui-port-client.js"></script>
    <script src="../core/runtime-paths.js"></script>
    <script src="../ai/capability-rank.js"></script>
    <script src="../ai/ai-common.js"></script>
    <script src="./ui-module.js"></script>
    <script src="./popup.js"></script>
  </body>
</html>
